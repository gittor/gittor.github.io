# 前言

## UML用来做什么

我们在做一个系统的时候，最根本的问题是识别出用户面临的问题并提出解决方案。从这个角度来说，UML并不能为我们带来什么好处，因为这部分是和个人水平直接挂钩的。

然而我们在分析问题的过程中，要做笔记，要防止遗漏某些点，要和客户、其他人员交流，这时UML就提供了一种标准化、可逐步改进的方式，供我们分析问题、交流看法。

所以正确使用UML的方式应该是：

1. 分析实际问题，画图。
2. 仔细分析图中的每一步，查漏补缺。
3. 重复上面的两步，直到可以自圆其说。

## UML图的分类

只列出最常用的几种。

uml有很多图，下面只总结最有用的几种。

静态图：

| 图                       | 作用           |
| ------------------------ | -------------- |
| 用例图(Use Case Diagram) | 描述系统功能   |
| 类图(Class Diagram)      | 描述类及类关系 |

动态图：

| 图                              | 作用                   |
| ------------------------------- | ---------------------- |
| 活动图(Activity Diagram)        | 最常用的表达流程的图   |
| 状态机图(State Machine Diagram) | 描述以某事物状态的转换 |
| 顺序图(Sequence Diagram)        | 以时间顺序描述交互     |

描述超大系统的图：

| 图                    | 作用                                                 |
| --------------------- | ---------------------------------------------------- |
| 包图(Package Diagram) | 描述模块间依赖关系的图                               |
| 逻辑架构图            | 向用户描述系统行为的图                               |
| 技术架构图            | 将系统分为不同的层，自下而上、层次分明地描述模块关系 |

# 如何写文档

## 需求分析

1. 描述用户之前的工作流
   1. 总结工作流中的优势、不足
   2. 明确用户痛点
2. 提炼核心问题、附带问题
3. 画出完整的系统用例图
4. 设计用户的新工作流，产出活动图、状态机图、顺序图。
5. 完成需分文档

## 方案设计

1. 如果有必要，画出技术架构图
2. 根据需求，提炼出不同的类，画出类图

## 如何描述工作流

1. 工作流中涉及的角色有哪些
2. 整个工作流是如何开展的(使用活动图)
3. 每一步的输入、输出、依赖是什么
4. 工作流的优势、不足在哪里

# 类图

## 关键点

类图既可以用来描述业务，也可以用来描述设计。描述业务时，更注重类的属性；描述设计时，更注重方法。

画类图的核心是如何正确分类，因为分类的依据有很多种，错误的分类方式可能导致后续变化困难。

## 语法

| 关系   | 表示          | 说明                               |
| ------ | ------------- | ---------------------------------- |
| 引用   | 直线+箭头     | 箭头指向被包含者，表示从A可以得到B |
| 依赖   | 虚线+箭头     | 箭头指向被依赖者，表示A的完成需要B |
| 弱包含 | 空心菱形+直线 | 空心菱形挨着大范围                 |
| 强包含 | 实心菱形+直线 | 实心菱形挨着大范围                 |
| 继承   | 直线+空心三角 | 空心三角指向父类                   |
|        |               |                                    |

# 活动图

| 含义      | 表示                       | 说明               |
| --------- | -------------------------- | ------------------ |
| 开始/结束 | 实心圆球/空心圆球+实心圆点 |                    |
| 活动      | 圆角矩形                   | 通常应该是一个动词 |
| 某个产品  | 直角矩形                   | 通常应该是一个名词 |
| 条件分支  | 菱形                       |                    |
| 泳道      | 大方框                     | 代表一个角色       |
| 同时进行  | 粗短棒                     |                    |

# 状态机图

| 含义      | 表示                       | 说明                             |
| --------- | -------------------------- | -------------------------------- |
| 开始/结束 | 实心圆球/空心圆球+实心圆点 |                                  |
| 状态      | 圆角矩形                   | 通常是名词                       |
| 状态转换  | 实线+箭头                  | 通常是动词                       |
| 条件      | 状态转换+中括号            | 只在满足条件的情况下才执行该转换 |

# 顺序图

| 含义         | 表示      | 说明 |
| ------------ | --------- | ---- |
| 角色         | 小人      |      |
| 操作         | 实线+箭头 | 动词 |
| 操作的返回值 | 虚线+箭头 | 名词 |

# 用例图

## 关键点

我们用用例图是为了回答下面两个问题：

1. 这个系统谁在用
2. 他们分别能用这个系统做什么

## 语法

| 含义       | 表示            | 说明                       |
| ---------- | --------------- | -------------------------- |
| 角色       | 小人            |                            |
| 可以做什么 | 椭圆            | 椭圆内可以加动名词描述     |
| 系统边界   | 大方框          |                            |
| 包含       | (A)虚线+箭头(B) | 表示A是总用例，包含小用例B |

# 包图

| 含义 | 表示            | 说明                   |
| ---- | --------------- | ---------------------- |
| 包   | 小矩形+大矩形   | 代表一个完整的功能模块 |
| 依赖 | (A)虚线+箭头(B) | A依赖B                 |

